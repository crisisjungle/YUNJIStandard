<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è°ƒè¯•è‡ªæ£€ - äº‘åŸºåŠ¨ç¯ç›‘æ§ç³»ç»Ÿ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            width: 1920px;
            height: 1080px;
            overflow: hidden;
            font-family: 'Microsoft YaHei', 'PingFang SC', 'Helvetica Neue', Arial, sans-serif;
            background: #f5f7fa;
            color: #333;
        }

        /* é¡¶éƒ¨å¯¼èˆªæ  */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 25px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 60px;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .logo {
            font-size: 22px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo::before {
            content: "âš¡";
            font-size: 26px;
        }

        .page-title {
            font-size: 16px;
            font-weight: 500;
            opacity: 0.95;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 15px;
            font-size: 14px;
        }

        .header-link {
            padding: 8px 16px;
            border-radius: 6px;
            background: rgba(255, 255, 255, 0.18);
            color: #fff;
            font-size: 14px;
            text-decoration: none;
            transition: background 0.2s, transform 0.2s;
        }

        .header-link:hover {
            background: rgba(255, 255, 255, 0.28);
            transform: translateY(-1px);
        }

        /* ä¸»å®¹å™¨ */
        .main-container {
            height: calc(1080px - 60px - 70px);
            display: flex;
            flex-direction: column;
            padding: 15px 20px;
            gap: 15px;
        }

        /* é¡¶éƒ¨è¿›åº¦ç‚¹åŒºåŸŸ */
        .progress-section {
            background: white;
            border-radius: 8px;
            padding: 20px 25px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            height: 120px;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .progress-title {
            font-size: 18px;
            font-weight: 600;
            color: #2c3e50;
        }

        .progress-stats {
            display: flex;
            gap: 30px;
            font-size: 14px;
            color: #7f8c8d;
        }

        .progress-stat-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .progress-stat-value {
            font-weight: 600;
            color: #2c3e50;
        }

        .progress-stat-value.success {
            color: #198754;
        }

        .progress-stat-value.warning {
            color: #ffc107;
        }

        .progress-stat-value.error {
            color: #dc3545;
        }

        /* æ£€æµ‹ç‚¹æŒ‡ç¤ºå™¨ */
        .progress-dots {
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            padding: 0 20px;
        }

        .progress-line {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 3px;
            background: #e9ecef;
            transform: translateY(-50%);
            z-index: 1;
        }

        .progress-line-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.5s;
            border-radius: 2px;
        }

        .progress-dot {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #e9ecef;
            border: 3px solid #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: 600;
            color: #7f8c8d;
            position: relative;
            z-index: 2;
            transition: all 0.3s;
            cursor: pointer;
        }

        .progress-dot:hover {
            transform: scale(1.1);
        }

        .progress-dot.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-color: #667eea;
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% {
                box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            }
            50% {
                box-shadow: 0 4px 25px rgba(102, 126, 234, 0.6);
            }
        }

        .progress-dot.completed {
            background: #198754;
            border-color: #198754;
            color: white;
        }

        .progress-dot.completed::after {
            content: "âœ“";
            font-size: 20px;
        }

        .progress-dot.error {
            background: #dc3545;
            border-color: #dc3545;
            color: white;
        }

        .progress-dot.error::after {
            content: "âœ—";
            font-size: 20px;
        }

        .progress-dot-label {
            position: absolute;
            top: 60px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 12px;
            color: #7f8c8d;
            white-space: nowrap;
            max-width: 80px;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .progress-dot.active .progress-dot-label,
        .progress-dot.completed .progress-dot-label,
        .progress-dot.error .progress-dot-label {
            color: #2c3e50;
            font-weight: 600;
        }

        /* ä¸»è¦å†…å®¹åŒºåŸŸ */
        .content-area {
            flex: 1;
            display: grid;
            grid-template-columns: 1fr 450px;
            gap: 15px;
            min-height: 0;
        }

        /* å·¦ä¾§ï¼šæ£€æµ‹é¡¹åˆ—è¡¨ */
        .left-panel {
            display: flex;
            flex-direction: column;
            gap: 15px;
            min-height: 0;
        }

        /* æ£€æµ‹é¡¹åˆ—è¡¨é¢æ¿ */
        .detection-panel {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            flex: 1;
        }

        .panel-header {
            padding: 15px 20px;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-shrink: 0;
        }

        .panel-header h2 {
            font-size: 16px;
            color: #2c3e50;
            font-weight: 600;
        }

        .panel-actions {
            display: flex;
            gap: 10px;
        }

        .btn {
            padding: 6px 14px;
            border: none;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .btn-secondary {
            background: #ecf0f1;
            color: #7f8c8d;
        }

        .btn-secondary:hover {
            background: #d5dbdb;
        }

        .detection-list {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(3, 1fr);
            gap: 15px;
        }

        .detection-item {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 15px;
            transition: all 0.3s;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            min-height: 180px;
            position: relative;
        }

        .detection-item:hover {
            border-color: #667eea;
            background: #f8f9ff;
        }

        .detection-item.active {
            border-color: #667eea;
            background: #f0f4ff;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.2);
        }

        .detection-item.running {
            border-color: #0d6efd;
            background: #e7f1ff;
        }

        .detection-item.error {
            border-color: #dc3545;
            background: #fff5f5;
        }

        .detection-item.success {
            border-color: #198754;
            background: #f0f9f4;
        }

        .detection-item-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
            position: relative;
        }

        .detection-item-name {
            font-size: 15px;
            font-weight: 600;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 8px;
            line-height: 1.4;
            flex: 1;
            padding-right: 10px;
        }

        .detection-status {
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
            position: absolute;
            top: 0;
            right: 0;
            white-space: nowrap;
        }

        .status-pending {
            background: #fff3cd;
            color: #856404;
        }

        .status-running {
            background: #cfe2ff;
            color: #084298;
        }

        .status-success {
            background: #d1e7dd;
            color: #0f5132;
        }

        .status-error {
            background: #f8d7da;
            color: #842029;
        }

        .detection-item-progress {
            margin-top: 10px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .progress-bar {
            flex: 1;
            height: 6px;
            background: #e9ecef;
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s;
        }

        .progress-text {
            font-size: 12px;
            color: #7f8c8d;
            min-width: 45px;
            text-align: right;
            font-weight: 500;
        }

        /* å¡ç‰‡å†…çš„å­æ£€æµ‹é¡¹ */
        .detection-item-sub-items {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 6px;
            margin-top: 8px;
            padding-top: 10px;
            border-top: 1px solid #e9ecef;
        }

        .detection-item-sub-item {
            padding: 6px 8px;
            background: white;
            border-radius: 4px;
            border-left: 2px solid #e9ecef;
            font-size: 11px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
        }

        .detection-item-sub-item.running {
            border-left-color: #0d6efd;
            background: #e7f1ff;
            font-weight: 500;
        }

        .detection-item-sub-item.success {
            border-left-color: #198754;
            background: #d1e7dd;
        }

        .detection-item-sub-item.error {
            border-left-color: #dc3545;
            background: #f8d7da;
            cursor: pointer;
        }

        .detection-item-sub-item.error:hover {
            background: #f1aeb5;
        }

        .detection-item-sub-item-name {
            flex: 1;
            color: #2c3e50;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .detection-item-sub-item-status {
            font-size: 10px;
            padding: 2px 6px;
            border-radius: 8px;
            margin-left: 6px;
            white-space: nowrap;
        }

        /* å³ä¾§ï¼šè¯¦æƒ…å’Œå­æ£€æµ‹é¡¹ */
        .detail-panel {
            display: flex;
            flex-direction: column;
            gap: 15px;
            min-height: 0;
        }

        .detail-card {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .detail-card-header {
            padding: 12px 15px;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
            font-size: 14px;
            font-weight: 600;
            color: #2c3e50;
            flex-shrink: 0;
        }

        .detail-card-body {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            min-height: 0;
        }

        .detail-info {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .info-row {
            display: flex;
            flex-direction: column;
            gap: 8px;
            padding: 12px 0;
            border-bottom: 1px solid #f0f0f0;
            font-size: 14px;
        }

        .info-row:last-child {
            border-bottom: none;
        }

        .info-label {
            color: #7f8c8d;
            font-size: 13px;
            margin-bottom: 5px;
        }

        .info-value {
            color: #2c3e50;
            font-weight: 500;
            font-size: 15px;
        }

        /* å­æ£€æµ‹é¡¹åˆ—è¡¨ */
        .sub-items-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .sub-item {
            padding: 10px 12px;
            background: #f8f9fa;
            border-radius: 6px;
            border-left: 3px solid #e9ecef;
            font-size: 13px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
        }

        .sub-item.running {
            border-left-color: #0d6efd;
            background: #e7f1ff;
            font-weight: 600;
            animation: pulse-sub 1.5s infinite;
        }

        @keyframes pulse-sub {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.7;
            }
        }

        .sub-item.success {
            border-left-color: #198754;
            background: #d1e7dd;
        }

        .sub-item.error {
            border-left-color: #dc3545;
            background: #f8d7da;
            cursor: pointer;
        }

        .sub-item.error:hover {
            background: #f1aeb5;
        }

        .sub-item-name {
            flex: 1;
            color: #2c3e50;
        }

        .sub-item-status {
            font-size: 11px;
            padding: 2px 8px;
            border-radius: 10px;
            margin-left: 8px;
        }

        /* å¤±è´¥åŸå› å¼¹çª— */
        .error-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .error-modal.show {
            display: flex;
        }

        .error-modal-content {
            background: white;
            border-radius: 8px;
            padding: 25px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        }

        .error-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e9ecef;
        }

        .error-modal-title {
            font-size: 18px;
            font-weight: 600;
            color: #dc3545;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .error-modal-close {
            font-size: 24px;
            color: #7f8c8d;
            cursor: pointer;
            transition: all 0.3s;
        }

        .error-modal-close:hover {
            color: #2c3e50;
            transform: rotate(90deg);
        }

        .error-modal-body {
            font-size: 14px;
            line-height: 1.8;
            color: #2c3e50;
        }

        .error-item {
            margin-bottom: 15px;
            padding: 12px;
            background: #fff5f5;
            border-radius: 6px;
            border-left: 3px solid #dc3545;
        }

        .error-item-name {
            font-weight: 600;
            color: #842029;
            margin-bottom: 8px;
        }

        .error-item-reason {
            color: #2c3e50;
        }

        /* æ£€æµ‹æ—¥å¿— */
        .log-container {
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 12px;
            line-height: 1.6;
        }

        .log-entry {
            padding: 6px 0;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            gap: 8px;
        }

        .log-time {
            color: #95a5a6;
            min-width: 70px;
            font-size: 11px;
        }

        .log-level {
            min-width: 45px;
            font-weight: 600;
            font-size: 11px;
        }

        .log-level.info {
            color: #0d6efd;
        }

        .log-level.success {
            color: #198754;
        }

        .log-level.warning {
            color: #ffc107;
        }

        .log-level.error {
            color: #dc3545;
        }

        .log-message {
            flex: 1;
            color: #2c3e50;
        }

        /* åº•éƒ¨æ“ä½œæ  */
        .action-bar {
            height: 70px;
            background: white;
            padding: 15px 25px;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .action-info {
            font-size: 14px;
            color: #7f8c8d;
        }

        .action-buttons {
            display: flex;
            gap: 12px;
        }

        .btn-large {
            padding: 10px 24px;
            font-size: 14px;
        }

        /* æ»šåŠ¨æ¡æ ·å¼ */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }
    </style>
</head>
<body>
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <div class="header">
        <div class="header-left">
            <div class="logo">äº‘åŸºåŠ¨ç¯ç›‘æ§ç³»ç»Ÿ</div>
            <div class="page-title">è°ƒè¯•è‡ªæ£€</div>
        </div>
        <div class="header-right">
            <a class="header-link" href="03-åŠ¨ç¯ç›‘æ§è½¯ä»¶ç•Œé¢.html">è¿›å…¥ç›‘æ§å¹³å°</a>
            <div class="user-info">
                <span>ğŸ‘¤</span>
                <span>ç®¡ç†å‘˜</span>
            </div>
        </div>
    </div>

    <!-- ä¸»å®¹å™¨ -->
    <div class="main-container">
        <!-- é¡¶éƒ¨è¿›åº¦ç‚¹åŒºåŸŸ -->
        <div class="progress-section">
            <div class="progress-header">
                <div class="progress-title">æ£€æµ‹è¿›åº¦</div>
                <div class="progress-stats">
                    <div class="progress-stat-item">
                        <span>æ€»æ£€æµ‹é¡¹:</span>
                        <span class="progress-stat-value" id="totalCount">10</span>
                    </div>
                    <div class="progress-stat-item">
                        <span>å·²å®Œæˆ:</span>
                        <span class="progress-stat-value success" id="successCount">0</span>
                    </div>
                    <div class="progress-stat-item">
                        <span>è¿›è¡Œä¸­:</span>
                        <span class="progress-stat-value warning" id="runningCount">0</span>
                    </div>
                    <div class="progress-stat-item">
                        <span>å¤±è´¥é¡¹:</span>
                        <span class="progress-stat-value error" id="errorCount">0</span>
                    </div>
                </div>
            </div>
            <div class="progress-dots" id="progressDots">
                <div class="progress-line">
                    <div class="progress-line-fill" id="progressLineFill"></div>
                </div>
                <!-- æ£€æµ‹ç‚¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>

        <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
        <div class="content-area">
            <!-- å·¦ä¾§ï¼šæ£€æµ‹é¡¹åˆ—è¡¨ -->
            <div class="left-panel">
                <!-- æ£€æµ‹é¡¹åˆ—è¡¨é¢æ¿ -->
                <div class="detection-panel">
                    <div class="panel-header">
                        <h2>æ£€æµ‹é¡¹ç›®åˆ—è¡¨ï¼ˆç‚¹å‡»æŸ¥çœ‹å­æ£€æµ‹é¡¹ï¼‰</h2>
                        <div class="panel-actions">
                            <button class="btn btn-secondary" onclick="stopDetection()">åœæ­¢æ£€æµ‹</button>
                            <button class="btn btn-primary" onclick="startDetection()">å¼€å§‹æ£€æµ‹</button>
                        </div>
                    </div>
                    <div class="detection-list" id="detectionList">
                        <!-- æ£€æµ‹é¡¹ç›®å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>
            </div>

            <!-- å³ä¾§ï¼šè¯¦æƒ…å’Œå­æ£€æµ‹é¡¹ -->
            <div class="detail-panel">
                <!-- æ£€æµ‹è¯¦æƒ… -->
                <div class="detail-card">
                    <div class="detail-card-header">æ£€æµ‹è¯¦æƒ…</div>
                    <div class="detail-card-body">
                        <div class="detail-info" id="detailInfo">
                            <div class="info-row">
                                <span class="info-label">æ£€æµ‹é¡¹ç›®</span>
                                <span class="info-value">-</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">æ£€æµ‹ç»“æœ</span>
                                <span class="info-value">-</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- å­æ£€æµ‹é¡¹åˆ—è¡¨ -->
                <div class="detail-card" style="flex: 1;">
                    <div class="detail-card-header">å­æ£€æµ‹é¡¹</div>
                    <div class="detail-card-body">
                        <div class="sub-items-list" id="subItemsList">
                            <div style="text-align: center; padding: 40px; color: #7f8c8d; font-size: 14px;">
                                è¯·é€‰æ‹©ä¸€ä¸ªæ£€æµ‹é¡¹ç›®æŸ¥çœ‹å­æ£€æµ‹é¡¹
                            </div>
                        </div>
                    </div>
                </div>

                <!-- æ£€æµ‹æ—¥å¿— -->
                <div class="detail-card" style="flex: 1;">
                    <div class="detail-card-header">æ£€æµ‹æ—¥å¿—</div>
                    <div class="detail-card-body">
                        <div class="log-container" id="logContainer">
                            <div class="log-entry">
                                <span class="log-time">--:--:--</span>
                                <span class="log-level info">[INFO]</span>
                                <span class="log-message">ç­‰å¾…å¼€å§‹æ£€æµ‹...</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- å¤±è´¥åŸå› å¼¹çª— -->
    <div class="error-modal" id="errorModal">
        <div class="error-modal-content">
            <div class="error-modal-header">
                <div class="error-modal-title">
                    <span>âš ï¸</span>
                    <span>å¤±è´¥åŸå› è¯¦æƒ…</span>
                </div>
                <div class="error-modal-close" onclick="closeErrorModal()">Ã—</div>
            </div>
            <div class="error-modal-body" id="errorModalBody">
                <!-- å¤±è´¥åŸå› å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
    </div>

    <!-- åº•éƒ¨æ“ä½œæ  -->
    <div class="action-bar">
        <div class="action-info">
            <span>æ•´ä½“è¿›åº¦: <strong id="progressPercent">0/10</strong></span>
        </div>
        <div class="action-buttons">
            <button class="btn btn-secondary btn-large" onclick="exportReport()">å¯¼å‡ºæŠ¥å‘Š</button>
            <button class="btn btn-primary btn-large" onclick="goToMonitor()">è¿›å…¥ç›‘æ§</button>
        </div>
    </div>

    <script>
        // æ£€æµ‹é¡¹ç›®æ•°æ®ï¼ˆåŒ…å«å­æ£€æµ‹é¡¹ï¼‰
        const detectionItems = [
            {
                id: 1,
                name: "ç³»ç»Ÿåˆå§‹åŒ–æ£€æµ‹",
                desc: "æ£€æµ‹ç³»ç»ŸåŸºç¡€æœåŠ¡æ˜¯å¦æ­£å¸¸å¯åŠ¨",
                category: "system",
                subItems: [
                    { id: '1-1', name: 'æ£€æŸ¥ç³»ç»ŸæœåŠ¡çŠ¶æ€' },
                    { id: '1-2', name: 'éªŒè¯é…ç½®æ–‡ä»¶å®Œæ•´æ€§' },
                    { id: '1-3', name: 'æ£€æŸ¥ç³»ç»Ÿèµ„æºå ç”¨' },
                    { id: '1-4', name: 'éªŒè¯ç³»ç»Ÿæ—¥å¿—åŠŸèƒ½' }
                ]
            },
            {
                id: 2,
                name: "ç½‘ç»œè¿æ¥æ£€æµ‹",
                desc: "æ£€æµ‹ç½‘ç»œæ¥å£å’Œè¿æ¥çŠ¶æ€",
                category: "network",
                subItems: [
                    { id: '2-1', name: 'æ£€æŸ¥ç½‘ç»œæ¥å£çŠ¶æ€' },
                    { id: '2-2', name: 'æµ‹è¯•ç½‘ç»œè¿é€šæ€§' },
                    { id: '2-3', name: 'éªŒè¯DNSè§£æ' },
                    { id: '2-4', name: 'æ£€æŸ¥ç½‘ç»œå¸¦å®½' }
                ]
            },
            {
                id: 3,
                name: "æ•°æ®åº“è¿æ¥æ£€æµ‹",
                desc: "æ£€æµ‹æ•°æ®åº“æœåŠ¡è¿æ¥å’Œè¡¨ç»“æ„",
                category: "database",
                subItems: [
                    { id: '3-1', name: 'æ£€æŸ¥æ•°æ®åº“è¿æ¥' },
                    { id: '3-2', name: 'éªŒè¯è¡¨ç»“æ„å®Œæ•´æ€§' },
                    { id: '3-3', name: 'æµ‹è¯•æ•°æ®åº“è¯»å†™æ€§èƒ½' },
                    { id: '3-4', name: 'æ£€æŸ¥æ•°æ®åº“å¤‡ä»½çŠ¶æ€' }
                ]
            },
            {
                id: 4,
                name: "è®¾å¤‡é€šä¿¡æ£€æµ‹",
                desc: "æ£€æµ‹ä¸ç›‘æ§è®¾å¤‡çš„é€šä¿¡è¿æ¥",
                category: "device",
                subItems: [
                    { id: '4-1', name: 'æ‰«æè®¾å¤‡è¿æ¥' },
                    { id: '4-2', name: 'æµ‹è¯•è®¾å¤‡é€šä¿¡åè®®' },
                    { id: '4-3', name: 'éªŒè¯è®¾å¤‡å“åº”æ—¶é—´' },
                    { id: '4-4', name: 'æ£€æŸ¥è®¾å¤‡æ•°æ®é‡‡é›†' }
                ]
            },
            {
                id: 5,
                name: "æ•°æ®é‡‡é›†æ£€æµ‹",
                desc: "æ£€æµ‹æ•°æ®é‡‡é›†æ¨¡å—æ˜¯å¦æ­£å¸¸å·¥ä½œ",
                category: "data",
                subItems: [
                    { id: '5-1', name: 'æ£€æŸ¥é‡‡é›†ä»»åŠ¡çŠ¶æ€' },
                    { id: '5-2', name: 'éªŒè¯æ•°æ®é‡‡é›†é¢‘ç‡' },
                    { id: '5-3', name: 'æµ‹è¯•æ•°æ®å­˜å‚¨åŠŸèƒ½' },
                    { id: '5-4', name: 'æ£€æŸ¥æ•°æ®å®Œæ•´æ€§' }
                ]
            },
            {
                id: 6,
                name: "å‘Šè­¦æœåŠ¡æ£€æµ‹",
                desc: "æ£€æµ‹å‘Šè­¦æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ",
                category: "alarm",
                subItems: [
                    { id: '6-1', name: 'æ£€æŸ¥å‘Šè­¦æœåŠ¡çŠ¶æ€' },
                    { id: '6-2', name: 'æµ‹è¯•å‘Šè­¦è§¦å‘æœºåˆ¶' },
                    { id: '6-3', name: 'éªŒè¯å‘Šè­¦é€šçŸ¥åŠŸèƒ½' },
                    { id: '6-4', name: 'æ£€æŸ¥å‘Šè­¦å†å²è®°å½•' }
                ]
            },
            {
                id: 7,
                name: "è”åŠ¨æ§åˆ¶æ£€æµ‹",
                desc: "æ£€æµ‹è”åŠ¨æ§åˆ¶åŠŸèƒ½æ˜¯å¦æ­£å¸¸",
                category: "control",
                subItems: [
                    { id: '7-1', name: 'æ£€æŸ¥è”åŠ¨è§„åˆ™é…ç½®' },
                    { id: '7-2', name: 'æµ‹è¯•è”åŠ¨è§¦å‘æ¡ä»¶' },
                    { id: '7-3', name: 'éªŒè¯è”åŠ¨æ‰§è¡Œç»“æœ' },
                    { id: '7-4', name: 'æ£€æŸ¥è”åŠ¨æ—¥å¿—è®°å½•' }
                ]
            },
            {
                id: 8,
                name: "ç”¨æˆ·æƒé™æ£€æµ‹",
                desc: "æ£€æµ‹ç”¨æˆ·æƒé™é…ç½®æ˜¯å¦æ­£ç¡®",
                category: "security",
                subItems: [
                    { id: '8-1', name: 'æ£€æŸ¥ç”¨æˆ·è´¦æˆ·çŠ¶æ€' },
                    { id: '8-2', name: 'éªŒè¯æƒé™åˆ†é…è§„åˆ™' },
                    { id: '8-3', name: 'æµ‹è¯•æƒé™éªŒè¯æœºåˆ¶' },
                    { id: '8-4', name: 'æ£€æŸ¥å®‰å…¨æ—¥å¿—è®°å½•' }
                ]
            },
            {
                id: 9,
                name: "å­˜å‚¨ç©ºé—´æ£€æµ‹",
                desc: "æ£€æµ‹ç³»ç»Ÿå­˜å‚¨ç©ºé—´æ˜¯å¦å……è¶³",
                category: "storage",
                subItems: [
                    { id: '9-1', name: 'æ£€æŸ¥ç£ç›˜ä½¿ç”¨ç‡' },
                    { id: '9-2', name: 'éªŒè¯å­˜å‚¨ç©ºé—´åˆ†é…' },
                    { id: '9-3', name: 'æµ‹è¯•æ•°æ®å†™å…¥é€Ÿåº¦' },
                    { id: '9-4', name: 'æ£€æŸ¥å­˜å‚¨å¥åº·çŠ¶æ€' }
                ]
            },
            {
                id: 10,
                name: "æ€§èƒ½æŒ‡æ ‡æ£€æµ‹",
                desc: "æ£€æµ‹ç³»ç»ŸCPUã€å†…å­˜ç­‰æ€§èƒ½æŒ‡æ ‡",
                category: "performance",
                subItems: [
                    { id: '10-1', name: 'æ£€æŸ¥CPUä½¿ç”¨ç‡' },
                    { id: '10-2', name: 'æ£€æŸ¥å†…å­˜ä½¿ç”¨ç‡' },
                    { id: '10-3', name: 'æµ‹è¯•ç³»ç»Ÿå“åº”æ—¶é—´' },
                    { id: '10-4', name: 'æ£€æŸ¥ç³»ç»Ÿè´Ÿè½½å‡è¡¡' }
                ]
            }
        ];

        let currentDetection = null;
        let detectionStatus = {};
        let subItemStatus = {};
        let subItemErrors = {}; // å­˜å‚¨å­æ£€æµ‹é¡¹çš„å¤±è´¥åŸå› 
        let isRunning = false;
        let logs = [];

        // åˆå§‹åŒ–
        function init() {
            detectionItems.forEach(item => {
                detectionStatus[item.id] = {
                    status: 'pending',
                    progress: 0,
                    startTime: null,
                    endTime: null,
                    result: null
                };
                // åˆå§‹åŒ–å­æ£€æµ‹é¡¹çŠ¶æ€
                if (item.subItems) {
                    item.subItems.forEach(subItem => {
                        subItemStatus[subItem.id] = {
                            status: 'pending'
                        };
                        subItemErrors[subItem.id] = null;
                    });
                }
            });
            renderProgressDots();
            renderDetectionList();
            updateProgress();
            addLog('info', 'ç³»ç»Ÿè°ƒè¯•è‡ªæ£€æ¨¡å—å·²å°±ç»ª');
        }

        // æ¸²æŸ“è¿›åº¦ç‚¹
        function renderProgressDots() {
            const container = document.getElementById('progressDots');
            container.innerHTML = `
                <div class="progress-line">
                    <div class="progress-line-fill" id="progressLineFill"></div>
                </div>
                ${detectionItems.map((item, index) => `
                    <div class="progress-dot" data-id="${item.id}" onclick="selectDetection(${item.id})">
                        ${index + 1}
                        <div class="progress-dot-label">${item.name}</div>
                    </div>
                `).join('')}
            `;
        }

        // æ›´æ–°è¿›åº¦ç‚¹çŠ¶æ€
        function updateProgressDots() {
            detectionItems.forEach((item, index) => {
                const dot = document.querySelector(`.progress-dot[data-id="${item.id}"]`);
                if (!dot) return;

                const status = detectionStatus[item.id].status;
                dot.className = 'progress-dot';
                
                if (status === 'running') {
                    dot.classList.add('active');
                } else if (status === 'success') {
                    dot.classList.add('completed');
                } else if (status === 'error') {
                    dot.classList.add('error');
                }

                // æ›´æ–°è¿›åº¦çº¿
                const completedCount = detectionItems.filter(i => 
                    detectionStatus[i.id].status === 'success' || detectionStatus[i.id].status === 'error'
                ).length;
                const progress = completedCount / detectionItems.length * 100;
                document.getElementById('progressLineFill').style.width = progress + '%';
            });
        }

        // æ¸²æŸ“æ£€æµ‹åˆ—è¡¨
        function renderDetectionList() {
            const list = document.getElementById('detectionList');
            list.innerHTML = detectionItems.map(item => {
                const status = detectionStatus[item.id];
                const statusClass = `status-${status.status}`;
                const statusText = {
                    'pending': 'å¾…æ£€æµ‹',
                    'running': 'æ£€æµ‹ä¸­',
                    'success': 'é€šè¿‡',
                    'error': 'å¤±è´¥'
                }[status.status];

                const itemClass = [
                    currentDetection?.id === item.id ? 'active' : '',
                    status.status === 'running' ? 'running' : '',
                    status.status === 'error' ? 'error' : '',
                    status.status === 'success' ? 'success' : ''
                ].filter(Boolean).join(' ');

                // æ¸²æŸ“å­æ£€æµ‹é¡¹
                let subItemsHtml = '';
                if (item.subItems && item.subItems.length > 0) {
                    const subItems = item.subItems.map(subItem => {
                        const subStatus = subItemStatus[subItem.id];
                        const subStatusClass = subStatus.status === 'running' ? 'running' : 
                                              subStatus.status === 'success' ? 'success' : 
                                              subStatus.status === 'error' ? 'error' : '';
                        const subStatusText = {
                            'pending': 'å¾…æ£€æµ‹',
                            'running': 'æ£€æµ‹ä¸­',
                            'success': 'é€šè¿‡',
                            'error': 'å¤±è´¥'
                        }[subStatus.status] || 'å¾…æ£€æµ‹';

                        const errorClick = subStatus.status === 'error' && subItemErrors[subItem.id] 
                            ? `onclick="event.stopPropagation(); showErrorReason('${item.name}', '${subItem.name}', '${subItemErrors[subItem.id]}')"`
                            : '';

                        return `
                            <div class="detection-item-sub-item ${subStatusClass}" ${errorClick}>
                                <span class="detection-item-sub-item-name">${subItem.name}</span>
                                <span class="detection-item-sub-item-status ${subStatusClass}">${subStatusText}</span>
                            </div>
                        `;
                    }).join('');

                    subItemsHtml = `
                        <div class="detection-item-sub-items">
                            ${subItems}
                        </div>
                    `;
                }

                return `
                    <div class="detection-item ${itemClass}" 
                         onclick="selectDetection(${item.id})">
                        <div class="detection-item-header">
                            <div class="detection-item-name">
                                <span>${getCategoryIcon(item.category)}</span>
                                <span>${item.name}</span>
                            </div>
                            <div class="detection-status ${statusClass}">${statusText}</div>
                        </div>
                        ${subItemsHtml}
                    </div>
                `;
            }).join('');
        }

        // è·å–åˆ†ç±»å›¾æ ‡
        function getCategoryIcon(category) {
            const icons = {
                'system': 'ğŸ–¥ï¸',
                'network': 'ğŸŒ',
                'database': 'ğŸ’¾',
                'device': 'ğŸ“¡',
                'data': 'ğŸ“Š',
                'alarm': 'ğŸš¨',
                'control': 'ğŸ›ï¸',
                'security': 'ğŸ”’',
                'storage': 'ğŸ’¿',
                'performance': 'âš¡'
            };
            return icons[category] || 'ğŸ“‹';
        }

        // é€‰æ‹©æ£€æµ‹é¡¹
        function selectDetection(id) {
            const item = detectionItems.find(i => i.id === id);
            if (!item) return;

            currentDetection = item;
            renderDetectionList();
            updateProgressDots();
            updateDetailInfo(item);
            renderSubItems(item);
        }

        // æ¸²æŸ“å­æ£€æµ‹é¡¹
        function renderSubItems(item) {
            const list = document.getElementById('subItemsList');
            
            if (!item.subItems || item.subItems.length === 0) {
                list.innerHTML = '<div style="text-align: center; padding: 40px; color: #7f8c8d; font-size: 14px;">è¯¥æ£€æµ‹é¡¹æ²¡æœ‰å­æ£€æµ‹é¡¹</div>';
                return;
            }

            list.innerHTML = item.subItems.map(subItem => {
                const subStatus = subItemStatus[subItem.id];
                const subStatusClass = subStatus.status === 'running' ? 'running' : 
                                      subStatus.status === 'success' ? 'success' : 
                                      subStatus.status === 'error' ? 'error' : '';
                const subStatusText = {
                    'pending': 'å¾…æ£€æµ‹',
                    'running': 'æ£€æµ‹ä¸­',
                    'success': 'é€šè¿‡',
                    'error': 'å¤±è´¥'
                }[subStatus.status] || 'å¾…æ£€æµ‹';

                const errorClick = subStatus.status === 'error' && subItemErrors[subItem.id] 
                    ? `onclick="showErrorReason('${item.name}', '${subItem.name}', '${subItemErrors[subItem.id]}')"`
                    : '';

                return `
                    <div class="sub-item ${subStatusClass}" ${errorClick}>
                        <span class="sub-item-name">${subItem.name}</span>
                        <span class="sub-item-status ${subStatusClass}">${subStatusText}</span>
                    </div>
                `;
            }).join('');
        }

        // æ›´æ–°è¯¦æƒ…ä¿¡æ¯
        function updateDetailInfo(item) {
            const status = detectionStatus[item.id];
            const detailInfo = document.getElementById('detailInfo');

            detailInfo.innerHTML = `
                <div class="info-row">
                    <span class="info-label">æ£€æµ‹é¡¹ç›®</span>
                    <span class="info-value">${item.name}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">æ£€æµ‹ç»“æœ</span>
                    <span class="info-value">${status.result || '-'}</span>
                </div>
            `;
        }

        // è·å–çŠ¶æ€æ–‡æœ¬
        function getStatusText(status) {
            const texts = {
                'pending': 'å¾…æ£€æµ‹',
                'running': 'æ£€æµ‹ä¸­',
                'success': 'é€šè¿‡',
                'error': 'å¤±è´¥'
            };
            return texts[status] || 'æœªçŸ¥';
        }

        // æ›´æ–°è¿›åº¦
        function updateProgress() {
            const stats = {
                total: detectionItems.length,
                success: 0,
                running: 0,
                error: 0
            };

            detectionItems.forEach(item => {
                const status = detectionStatus[item.id].status;
                if (status === 'success') stats.success++;
                else if (status === 'running') stats.running++;
                else if (status === 'error') stats.error++;
            });

            const completed = stats.success + stats.error;

            document.getElementById('totalCount').textContent = stats.total;
            document.getElementById('successCount').textContent = stats.success;
            document.getElementById('runningCount').textContent = stats.running;
            document.getElementById('errorCount').textContent = stats.error;
            document.getElementById('progressPercent').textContent = `${completed}/${stats.total}`;
        }

        // æ›´æ–°å¤±è´¥é¡¹åˆ—è¡¨ï¼ˆå·²åˆ é™¤ï¼Œä¿ç•™å‡½æ•°é¿å…æŠ¥é”™ï¼‰
        function updateFailedItems() {
            // å¤±è´¥é¡¹åˆ—è¡¨å·²åˆ é™¤
        }

        // æ˜¾ç¤ºå¤±è´¥é¡¹çš„é”™è¯¯åŸå› 
        function showFailedItemErrors(itemId) {
            const item = detectionItems.find(i => i.id === itemId);
            if (!item) return;

            const failedSubItems = item.subItems.filter(subItem => 
                subItemStatus[subItem.id].status === 'error'
            );

            if (failedSubItems.length === 0) {
                alert('è¯¥æ£€æµ‹é¡¹æ²¡æœ‰å¤±è´¥çš„å­æ£€æµ‹é¡¹');
                return;
            }

            const errorContent = failedSubItems.map(subItem => {
                const reason = subItemErrors[subItem.id] || 'æœªçŸ¥é”™è¯¯';
                return `
                    <div class="error-item">
                        <div class="error-item-name">${subItem.name}</div>
                        <div class="error-item-reason">${reason}</div>
                    </div>
                `;
            }).join('');

            document.getElementById('errorModalBody').innerHTML = `
                <div style="margin-bottom: 15px; font-weight: 600; color: #2c3e50;">æ£€æµ‹é¡¹: ${item.name}</div>
                ${errorContent}
            `;
            document.getElementById('errorModal').classList.add('show');
        }

        // æ˜¾ç¤ºå­æ£€æµ‹é¡¹çš„é”™è¯¯åŸå› 
        function showErrorReason(itemName, subItemName, reason) {
            document.getElementById('errorModalBody').innerHTML = `
                <div class="error-item">
                    <div class="error-item-name">æ£€æµ‹é¡¹: ${itemName}</div>
                    <div style="margin: 10px 0; font-weight: 600; color: #842029;">å­æ£€æµ‹é¡¹: ${subItemName}</div>
                    <div class="error-item-reason">${reason}</div>
                </div>
            `;
            document.getElementById('errorModal').classList.add('show');
        }

        // å…³é—­é”™è¯¯å¼¹çª—
        function closeErrorModal() {
            document.getElementById('errorModal').classList.remove('show');
        }

        // ç‚¹å‡»å¼¹çª—å¤–éƒ¨å…³é—­
        document.getElementById('errorModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeErrorModal();
            }
        });

        // å¼€å§‹æ£€æµ‹
        async function startDetection() {
            if (isRunning) {
                alert('æ£€æµ‹æ­£åœ¨è¿›è¡Œä¸­ï¼Œè¯·ç­‰å¾…å®Œæˆ');
                return;
            }

            isRunning = true;
            addLog('info', 'å¼€å§‹ç³»ç»Ÿè°ƒè¯•è‡ªæ£€...');
            updateProgress();
            updateProgressDots();

            // ä¾æ¬¡æ‰§è¡Œæ¯ä¸ªæ£€æµ‹é¡¹
            for (let i = 0; i < detectionItems.length; i++) {
                const item = detectionItems[i];
                await runDetection(item);
            }

            isRunning = false;
            addLog('success', 'æ‰€æœ‰æ£€æµ‹é¡¹å·²å®Œæˆ');
            updateProgress();
            updateProgressDots();
        }

        // æ‰§è¡Œå•ä¸ªæ£€æµ‹
        async function runDetection(item) {
            const status = detectionStatus[item.id];
            status.status = 'running';
            status.startTime = Date.now();
            status.progress = 0;

            selectDetection(item.id);
            addLog('info', `å¼€å§‹æ£€æµ‹: ${item.name}`);
            renderDetectionList();
            updateProgress();
            updateProgressDots();

            // å¦‚æœæœ‰å­æ£€æµ‹é¡¹ï¼Œä¾æ¬¡æ‰§è¡Œ
            if (item.subItems && item.subItems.length > 0) {
                const subItemCount = item.subItems.length;
                for (let i = 0; i < item.subItems.length; i++) {
                    const subItem = item.subItems[i];
                    await runSubDetection(item.id, subItem, i, subItemCount);
                }
            } else {
                // æ²¡æœ‰å­æ£€æµ‹é¡¹ï¼Œç›´æ¥æ¨¡æ‹Ÿæ£€æµ‹è¿‡ç¨‹
                const steps = 10;
                for (let i = 0; i <= steps; i++) {
                    await new Promise(resolve => setTimeout(resolve, 200));
                    status.progress = (i / steps) * 100;
                    renderDetectionList();
                    updateProgress();
                }
            }

            // åˆ¤æ–­æ•´ä½“æ£€æµ‹ç»“æœ
            let hasError = false;
            if (item.subItems) {
                hasError = item.subItems.some(subItem => subItemStatus[subItem.id].status === 'error');
            }

            status.status = hasError ? 'error' : 'success';
            status.endTime = Date.now();
            status.progress = 100;
            status.result = hasError ? 'æ£€æµ‹å¤±è´¥ï¼Œå‘ç°å¼‚å¸¸é—®é¢˜' : 'æ£€æµ‹é€šè¿‡ï¼Œæ‰€æœ‰åŠŸèƒ½æ­£å¸¸';

            if (status.status === 'success') {
                addLog('success', `${item.name}: æ£€æµ‹é€šè¿‡`);
            } else {
                addLog('error', `${item.name}: æ£€æµ‹å¤±è´¥`);
            }

            renderDetectionList();
            updateDetailInfo(item);
            updateProgress();
            updateProgressDots();
        }

        // æ‰§è¡Œå­æ£€æµ‹é¡¹
        async function runSubDetection(parentId, subItem, index, total) {
            const subStatus = subItemStatus[subItem.id];
            subStatus.status = 'running';
            
            addLog('info', `  â†’ ${subItem.name}`);
            renderSubItems(detectionItems.find(i => i.id === parentId));

            // æ¨¡æ‹Ÿå­æ£€æµ‹è¿‡ç¨‹
            const steps = 5;
            for (let i = 0; i <= steps; i++) {
                await new Promise(resolve => setTimeout(resolve, 150));
                // æ›´æ–°çˆ¶é¡¹è¿›åº¦
                const parentStatus = detectionStatus[parentId];
                const baseProgress = (index / total) * 100;
                const stepProgress = (i / steps) * (100 / total);
                parentStatus.progress = Math.min(100, baseProgress + stepProgress);
                renderDetectionList();
                updateProgress();
            }

            // éšæœºå†³å®šæˆåŠŸæˆ–å¤±è´¥ï¼ˆ85%æˆåŠŸç‡ï¼‰
            const success = Math.random() > 0.15;
            subStatus.status = success ? 'success' : 'error';

            // å¦‚æœå¤±è´¥ï¼Œç”Ÿæˆå¤±è´¥åŸå› 
            if (!success) {
                const reasons = [
                    'è¿æ¥è¶…æ—¶ï¼Œæ— æ³•å»ºç«‹é€šä¿¡',
                    'é…ç½®å‚æ•°é”™è¯¯ï¼Œè¯·æ£€æŸ¥é…ç½®',
                    'èµ„æºä¸è¶³ï¼Œç³»ç»Ÿè´Ÿè½½è¿‡é«˜',
                    'æƒé™éªŒè¯å¤±è´¥ï¼Œç¼ºå°‘å¿…è¦æƒé™',
                    'æ•°æ®æ ¼å¼ä¸åŒ¹é…ï¼Œè§£æå¤±è´¥',
                    'æœåŠ¡æœªå¯åŠ¨ï¼Œè¯·æ£€æŸ¥æœåŠ¡çŠ¶æ€'
                ];
                subItemErrors[subItem.id] = reasons[Math.floor(Math.random() * reasons.length)];
            }

            if (success) {
                addLog('success', `  âœ“ ${subItem.name}: é€šè¿‡`);
            } else {
                addLog('error', `  âœ— ${subItem.name}: å¤±è´¥ - ${subItemErrors[subItem.id]}`);
            }

            renderSubItems(detectionItems.find(i => i.id === parentId));
        }

        // åœæ­¢æ£€æµ‹
        function stopDetection() {
            if (!isRunning) {
                alert('å½“å‰æ²¡æœ‰æ­£åœ¨è¿›è¡Œçš„æ£€æµ‹');
                return;
            }
            isRunning = false;
            addLog('warning', 'æ£€æµ‹å·²åœæ­¢');
        }

        // æ·»åŠ æ—¥å¿—
        function addLog(level, message) {
            const time = new Date().toLocaleTimeString();
            logs.push({ time, level, message });
            
            const logContainer = document.getElementById('logContainer');
            const logEntry = document.createElement('div');
            logEntry.className = 'log-entry';
            logEntry.innerHTML = `
                <span class="log-time">${time}</span>
                <span class="log-level ${level}">[${level.toUpperCase()}]</span>
                <span class="log-message">${message}</span>
            `;
            logContainer.appendChild(logEntry);
            logContainer.scrollTop = logContainer.scrollHeight;

            // é™åˆ¶æ—¥å¿—æ•°é‡
            if (logs.length > 50) {
                logs.shift();
                if (logContainer.firstChild) {
                    logContainer.removeChild(logContainer.firstChild);
                }
            }
        }

        // å¯¼å‡ºæŠ¥å‘Š
        function exportReport() {
            alert('å¯¼å‡ºæ£€æµ‹æŠ¥å‘ŠåŠŸèƒ½');
        }

        // è¿›å…¥ç›‘æ§
        function goToMonitor() {
            if (isRunning) {
                alert('è¯·å…ˆå®Œæˆæˆ–åœæ­¢æ£€æµ‹');
                return;
            }
            alert('å°†è·³è½¬åˆ°ç›‘æ§ç•Œé¢...');
        }

        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        init();
    </script>
</body>
</html>
